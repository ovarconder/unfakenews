# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Supabase

## üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÄ‡∏Ç‡πâ‡∏≤ Supabase Project

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://supabase.com
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "Start your project"
3. Sign in with GitHub (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) ‡∏´‡∏£‡∏∑‡∏≠ Email
4. ‡∏Ñ‡∏•‡∏¥‡∏Å "New Project"

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Project

```
Name: unfakenews
Database Password: [‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á]
Region: Southeast Asia (Singapore)
```

**üí° ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢!**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏î‡∏∂‡∏á Connection Strings

‡∏´‡∏•‡∏±‡∏á Project ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à (2-3 ‡∏ô‡∏≤‡∏ó‡∏µ):

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô **‚öôÔ∏è Settings** (‡∏•‡πà‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Database** ‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢
3. ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏°‡∏≤‡∏´‡∏≤ **Connection string**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Connection Pooling

‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ó‡πá‡∏ö **Transaction** ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô URL ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:

```
postgresql://postgres.abcdefghijklmnop:[YOUR-PASSWORD]@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres
```

**‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà `[YOUR-PASSWORD]` ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏™‡∏£‡πâ‡∏≤‡∏á Direct Connection URL

‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô port ‡∏à‡∏≤‡∏Å `6543` ‡πÄ‡∏õ‡πá‡∏ô `5432`:

```
postgresql://postgres.abcdefghijklmnop:[YOUR-PASSWORD]@aws-0-ap-southeast-1.pooler.supabase.com:5432/postgres
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 6: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `.env`

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÅ‡∏•‡∏∞‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢:

```env
# Supabase Database Configuration
DATABASE_URL="postgresql://postgres.abcdefghijklmnop:YourActualPassword@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres?pgbouncer=true"
DIRECT_URL="postgresql://postgres.abcdefghijklmnop:YourActualPassword@aws-0-ap-southeast-1.pooler.supabase.com:5432/postgres"

# Google Gemini API Key
# ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà: https://makersuite.google.com/app/apikey
GEMINI_API_KEY="your_gemini_api_key_here"

# NextAuth Configuration
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="generate_with_openssl_rand"

# Application Base URL
NEXT_PUBLIC_BASE_URL="http://localhost:3000"
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 7: ‡∏™‡∏£‡πâ‡∏≤‡∏á NEXTAUTH_SECRET

‡πÄ‡∏õ‡∏¥‡∏î Terminal ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô:

```bash
openssl rand -base64 32
```

‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô `NEXTAUTH_SECRET`

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 8: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

```bash
# Generate Prisma Client
npm run prisma:generate

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏ô Supabase
npm run prisma:push

# ‡πÄ‡∏õ‡∏¥‡∏î Prisma Studio
npm run prisma:studio
```

‡πÄ‡∏õ‡∏¥‡∏î http://localhost:5555 ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á = ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‚úÖ

## üéØ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå

### ‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:

```env
# =============================================
# Supabase Database
# =============================================
DATABASE_URL="postgresql://postgres.xyzabcdefghijk:MyP@ssw0rd123@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres?pgbouncer=true"
DIRECT_URL="postgresql://postgres.xyzabcdefghijk:MyP@ssw0rd123@aws-0-ap-southeast-1.pooler.supabase.com:5432/postgres"

# =============================================
# Google Gemini AI
# =============================================
GEMINI_API_KEY="AIzaSyAbc123Def456Ghi789Jkl012Mno345Pqr678Stu"

# =============================================
# NextAuth
# =============================================
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4"

# =============================================
# Base URL
# =============================================
NEXT_PUBLIC_BASE_URL="http://localhost:3000"
```

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Connection String

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á URL:

```
postgresql://[username]:[password]@[host]:[port]/[database]?[options]
```

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Supabase:

```
postgresql://
  postgres.xyzabcdefghijk     ‚Üê username
  :MyP@ssw0rd123             ‚Üê password
  @aws-0-ap-southeast-1      ‚Üê region
  .pooler.supabase.com       ‚Üê host
  :6543                      ‚Üê port (pooling)
  /postgres                  ‚Üê database name
  ?pgbouncer=true            ‚Üê options
```

## ‚ö†Ô∏è ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á

### 1. ‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÉ‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô

‡∏ñ‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏µ‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡∏ï‡πâ‡∏≠‡∏á encode:

| ‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞ | Encode |
|--------|--------|
| @      | %40    |
| #      | %23    |
| $      | %24    |
| %      | %25    |
| &      | %26    |

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô: My@Pass#123
Encode: My%40Pass%23123
```

### 2. ‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á

‚ùå ‡∏ú‡∏¥‡∏î:
```env
DATABASE_URL = "postgresql://..."
```

‚úÖ ‡∏ñ‡∏π‡∏Å:
```env
DATABASE_URL="postgresql://..."
```

### 3. ‡πÉ‡∏ä‡πâ Port ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

- **6543** = Connection Pooling (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö queries)
- **5432** = Direct Connection (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö migrations)

## üìù Checklist

‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤:

- [ ] ‡∏°‡∏µ Supabase Project ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Connection String ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà `[YOUR-PASSWORD]` ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
- [ ] ‡πÄ‡∏û‡∏¥‡πà‡∏° `?pgbouncer=true` ‡∏ó‡πâ‡∏≤‡∏¢ DATABASE_URL
- [ ] ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á DATABASE_URL (port 6543) ‡πÅ‡∏•‡∏∞ DIRECT_URL (port 5432)
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á NEXTAUTH_SECRET ‡∏î‡πâ‡∏ß‡∏¢ openssl
- [ ] ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏≠‡∏ö `=`
- [ ] Encode ‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÉ‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

## üöÄ ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `.env` ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢:

```bash
# 1. Generate Prisma Client
npm run prisma:generate

# 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏ô Supabase
npm run prisma:push

# 3. ‡πÄ‡∏õ‡∏¥‡∏î Prisma Studio (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ)
npm run prisma:studio

# 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (‡πÉ‡∏ô Prisma Studio)
# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ SQL ‡πÉ‡∏ô Supabase SQL Editor

# 5. ‡∏£‡∏±‡∏ô Development Server
npm run dev
```

## üé® ‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Prisma Studio

```bash
npm run prisma:studio
```

1. ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:5555
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á User ‚Üí Post ‚Üí PostTranslation ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ Supabase SQL Editor

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Supabase Dashboard
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **SQL Editor** (‡πÄ‡∏°‡∏ô‡∏π‡∏ã‡πâ‡∏≤‡∏¢)
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **New query**
4. ‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå `supabase-sample-data.sql`
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **Run** (‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î Cmd/Ctrl + Enter)

## ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

```bash
# ‡∏£‡∏±‡∏ô dev server
npm run dev

# ‡πÄ‡∏õ‡∏¥‡∏î browser:
http://localhost:3000/en/posts/global-tech-summit-ai-platform
http://localhost:3000/th/posts/global-tech-summit-ai-platform
```

## ‚ùì ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### "Error: P1001: Can't reach database server"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ú‡∏¥‡∏î
- Connection String ‡∏ú‡∏¥‡∏î
- Supabase Project ‡∏ñ‡∏π‡∏Å pause

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏ô Supabase Settings
2. Reset ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (Settings ‚Üí Database ‚Üí Reset password)
3. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Connection String ‡πÉ‡∏´‡∏°‡πà

### "Prepared statement ... already exists"

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
‡πÄ‡∏û‡∏¥‡πà‡∏° `?pgbouncer=true` ‡∏ó‡πâ‡∏≤‡∏¢ DATABASE_URL

### "prisma:error Error in Prisma Client"

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
rm -rf node_modules/.prisma
npm run prisma:generate
```

## üìö ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- `SUPABASE_SETUP.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ Supabase ‡∏â‡∏ö‡∏±‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
- `DATABASE_CLEANUP.md` - ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î configuration
- `QUICKSTART.md` - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô 5 ‡∏ô‡∏≤‡∏ó‡∏µ

## üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö

1. **‡πÉ‡∏ä‡πâ Password Manager**: ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô Database ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô 1Password/Bitwarden
2. **Backup .env**: ‡∏™‡∏≥‡∏£‡∏≠‡∏á .env ‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (‡∏≠‡∏¢‡πà‡∏≤ commit ‡∏Ç‡∏∂‡πâ‡∏ô git!)
3. **‡πÉ‡∏ä‡πâ .env.local**: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production
4. **Monitor Usage**: ‡πÄ‡∏ä‡πá‡∏Ñ Supabase Dashboard ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥

---

**‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏°‡∏µ:**
- ‚úÖ Supabase Database ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ
- ‚úÖ Environment variables ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
- ‚úÖ Prisma ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- ‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏° Development!
